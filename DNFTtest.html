<!DOCTYPE html>
<html>
<style>
* {margin:0; padding:0;} /* to remove the top and left whitespace */
html, body {width:100%; height:100%;} /* just to be sure these are full screen*/
myCanvas { display:block;} /* To remove the scrollbars */
</style>
<body>
<section>
<div id="canvasesdiv" style="position:relative; width:100%; height:100%">
<canvas id="layer1" style="z-index: 1;position:absolute;left:0px;top:0px;"></canvas>
<canvas id="layer2" style="z-index: 2;position:absolute;left:0px;top:0px;"></canvas>
<canvas id="layer3" style="z-index: 3;position:absolute;left:0px;top:0px;"></canvas>
<canvas id="layer4" style="z-index: 4;position:absolute;left:0px;top:0px;"></canvas>
</div>
<script>
var rnd=Math.random,flr=Math.floor;function rndNum(num){return rnd()*num+1}function vector(x,y){this.x=x;this.y=y;this.add=function(vec2){this.x=this.x+vec2.x;this.y=this.y+vec2.y}}function particle(pos,vel){this.pos=new vector(pos.x,pos.y);this.vel=vel;this.dead=false;this.start=0;this.update=function(time){let timeSpan=time-this.start;if(timeSpan>500){this.dead=true}if(!this.dead){this.pos.add(this.vel);this.vel.y=this.vel.y+gravity}};this.FWtestD1=function(){if(!this.dead){drawDot(this.pos.x,this.pos.y,2)}}}function firework(x,y){this.pos=new vector(x,y);this.vel=new vector(0,-rndNum(15)-3);this.color="hsl("+rndNum(360)+", 100%, 50%)";this.size=4;this.dead=false;this.start=0;let exParticles=[];exPLen=100;let rootShow=true;this.update=function(time){if(this.dead){return}rootShow=this.vel.y<0;if(rootShow){this.pos.add(this.vel);this.vel.y=this.vel.y+gravity}else{if(exParticles.length===0){flash=true;auxR=Math.random()+1;for(let i=0;i<exPLen;i++){exParticles.push(new particle(this.pos,new vector((-rndNum(10)+5)*auxR,(-rndNum(10)+5)*auxR)));exParticles[exParticles.length-1].start=time}}let numOfDead=0;for(let i=0;i<exPLen;i++){let p=exParticles[i];p.update(time);if(p.dead){numOfDead++}}if(numOfDead===exPLen){this.dead=true}}};this.FWtestD1=function(){if(this.dead){return}FWtestctx1.fillStyle=this.color;if(rootShow){drawDot(this.pos.x+Math.random()*10,this.pos.y,this.size)}else{for(let i=0;i<exPLen;i++){let p=exParticles[i];p.FWtestD1()}}}}function drawDot(x,y,size){FWtestctx1.beginPath();FWtestctx1.arc(x,y,size,0,Math.PI*2);FWtestctx1.fill();FWtestctx1.closePath()}var fireworks=[],gravity=.2,snapTime=50,flash=false;function FWtestI1(m1,d1,h1,mm1,mmt,UTC,Ref,Wi,Wf){let numOfFireworks=10;if(Ref=="L"){UTC=(new Date).getTimezoneOffset()/-60}WIDTHi=Wi*window.innerWidth;WIDTHf=Wf*window.innerWidth;Wpi=Wi;Wpf=Wf;for(let i=0;i<numOfFireworks;i++){fireworks.push(new firework(rndNum(WIDTHf-WIDTHi)+WIDTHi,HEIGHT))}let a1=2018;fin=0;while(Date.now()>fin){inic=Date.UTC(a1,m1-1,d1,h1,mm1)-UTC*60*60*1e3;fin=inic+mmt*6e4;a1+=1;console.log(UTC)}}function update(time){for(let i=0,len=fireworks.length;i<len;i++){let p=fireworks[i];p.update(time)}}function FWtestD1(time){if(Date.now()>inic&&Date.now()<fin){update(time);FWtestctx1.clearRect(0,0,WIDTH,HEIGHT);WIDTHi=Wpi*window.innerWidth;WIDTHf=Wpf*window.innerWidth;if(flash){flash=false}FWtestctx1.fillStyle="blue";for(let i=0,len=fireworks.length;i<len;i++){let p=fireworks[i];if(p.dead){fireworks[i]=new firework(rndNum(WIDTHf-WIDTHi)+WIDTHi,HEIGHT);p=fireworks[i];p.start=time}p.FWtestD1()}window.requestAnimationFrame(FWtestD1)}else{FWtestctx1.clearRect(0,0,WIDTH,HEIGHT)}}
</script>
<script>
Math.seed=function(s){var mask=4294967295,m_w=123456789+s&mask,m_z=987654321-s&mask;return function(){m_z=36969*(m_z&65535)+(m_z>>>16)&mask;m_w=18e3*(m_w&65535)+(m_w>>>16)&mask;var result=(m_z<<16)+(m_w&65535)>>>0;result/=4294967296;return result}};d=new Date(Date.now());m=d.getUTCMonth();day=d.getUTCDate();h=d.getUTCHours();year=d.getUTCFullYear();dia=m*30+day+h/24;function F(tt,sh,T){var aa=tt/T;aa=(aa-Math.floor(aa))*12;var i=Math.floor(aa);var v=(sh[i+1]-sh[i])*(aa-i)+sh[i];return v}shMC=[1,1,0,1,1,1,1,1,1,1,1,1,1];var baseColor={r:0,g:0,b:250};var pistilColor={r:250,g:0,b:0};var petalControlPoints={cp1x:42,cp1y:0,cp2x:31,cp2y:14,cp3x:4,cp3y:0,cp4x:0,cp4y:0};var pistilRadius=20;var stemscolor={r:0,g:200,b:0};var stemscount=8;const axiom="F";let sentence=axiom;let count=0;const rules=[];rules[0]={a:"F",b:"Go[+F][-F]GF*"};rules[1]={a:"G",b:"GG"};function FPtestD1(){let flo;flo=F(dia,shMC,365);random=Math.seed(0);FPtestctx1.setTransform(1,0,0,1,0,0);FPtestctx1.clearRect(0,0,window.innerWidth,window.innerHeight);len=.5*(window.innerHeight/2.15-window.innerHeight/2.6)+window.innerHeight/2.6;for(i=stemscount-1;i>0;i--){len*=.5}angle=Math.PI/180*(random()*30+2);FPtestctx1.setTransform(1,0,0,1,0,0);FPtestctx1.translate(WIDTH/2,HEIGHT-15);for(var i=0;i<sentence.length;i++){FPtestctx1.lineWidth=len/2;FPtestctx1.strokeStyle=`rgb(${stemscolor.r},${stemscolor.g},${stemscolor.b})`;var current=sentence.charAt(i);if(current=="F"||current=="G"){FPtestctx1.beginPath();FPtestctx1.moveTo(0,0);FPtestctx1.lineTo(0,-len);FPtestctx1.stroke();FPtestctx1.translate(0,-len)}else if(current=="*"){if(i%1===0){let aux=random()*(len/(random()*5+5));FPtestctx1.scale(aux*flo**5,aux*flo**5);let brightOff=random()*400-200;FPtestctx1.strokeStyle=`rgba(${baseColor.r},${baseColor.g},${baseColor.b},50)`;FPtestctx1.lineWidth=.25;FPtestctx1.fillStyle=`rgb(${baseColor.r+brightOff},${baseColor.g+brightOff},${baseColor.b+brightOff})`;let petalCount=4;for(let m=0;m<petalCount*2;m++){let fcp=petalControlPoints;FPtestctx1.beginPath();FPtestctx1.moveTo(fcp.cp1x,fcp.cp1y);FPtestctx1.bezierCurveTo(fcp.cp2x,fcp.cp2y,fcp.cp3x,fcp.cp3y,fcp.cp4x,fcp.cp4y);FPtestctx1.bezierCurveTo(fcp.cp3x,-fcp.cp3y,fcp.cp2x,-fcp.cp2y,fcp.cp1x,fcp.cp1y);FPtestctx1.fill();FPtestctx1.stroke();FPtestctx1.rotate(Math.PI/petalCount)}FPtestctx1.fillStyle=`rgb(${pistilColor.r},${pistilColor.g},${pistilColor.b})`;FPtestctx1.beginPath();FPtestctx1.ellipse(0,0,pistilRadius/2,pistilRadius/2,0,0,2*Math.PI);FPtestctx1.fill()}}else if(current=="+"){let positiveRotation=angle*random()*2.8;FPtestctx1.rotate(positiveRotation)}else if(current=="-"){let negativeRotation=-angle*random()*2.8;FPtestctx1.rotate(negativeRotation)}else if(current=="["){FPtestctx1.save()}else if(current=="]"){FPtestctx1.restore();count++}}if(i>=sentence.length){finished=true}setTimeout(function(){window.requestAnimationFrame(FPtestD1)},36e5)}function FPtestI1(){for(i=stemscount-1;i>0;i--){var nextSentence="";for(var j=0;j<sentence.length;j++){var current=sentence.charAt(j);var found=false;for(var k=0;k<rules.length;k++){if(current==rules[k].a){found=true;nextSentence+=rules[k].b;break}}if(!found){nextSentence+=current}}sentence=nextSentence}}
</script>
<script>
Math.seed=function(s){var mask=4294967295,m_w=123456789+s&mask,m_z=987654321-s&mask;return function(){m_z=36969*(m_z&65535)+(m_z>>>16)&mask;m_w=18e3*(m_w&65535)+(m_w>>>16)&mask;var result=(m_z<<16)+(m_w&65535)>>>0;result/=4294967296;return result}};function F(tt,sh,T){var aa=tt/T;aa=(aa-Math.floor(aa))*12;var i=Math.floor(aa);var v=(sh[i+1]-sh[i])*(aa-i)+sh[i];return v}shDN1=[7.4,7.1,6.5,5.7,5,4.6,4.6,5,5.5,5.9,6.5,7,7.4];shDN2=[16.8,17.3,17.9,18.4,18.9,19.4,19.5,19.2,18.5,17.7,17,16.6,16.8];UTC=-7;d=new Date(Date.now());m=d.getUTCMonth();day=d.getUTCDate();h=d.getUTCHours();year=d.getUTCFullYear();dia=m*30+day+h/24;h=h+UTC;if(h<0){h=24+h}if(h>24){h=h-24}t1=F(dia,shDN1,365);t2=F(dia,shDN2,365);function SMtestI1(){}function SMtestD1(){let dianoche;if(h>t1&&h<t2){dianoche=1}else{dianoche=0}let WIDTH=window.innerWidth;let HEIGHT=window.innerHeight;SMtestctx1.clearRect(0,0,WIDTH,HEIGHT);if(dianoche==1){SMtestctx1.fillStyle="rgba(0, 156, 255,1)"}else{SMtestctx1.fillStyle="rgba(0,0,0,1)"}SMtestctx1.beginPath();SMtestctx1.rect(0,0,WIDTH,HEIGHT);SMtestctx1.closePath();SMtestctx1.fill();setTimeout(function(){window.requestAnimationFrame(function(){SMtestD1()})},6e4)}function SMtestI2(){ST=Date.UTC(2021,10,20,0,0)}function SMtestD2(r,xo,yo){random=Math.seed(1234);let dianoche;if(h>t1&&h<t2){dianoche=1}else{dianoche=0}let WIDTH=window.innerWidth;let HEIGHT=window.innerHeight;let xc=xo*WIDTH;let yc=yo*HEIGHT;let rad=Math.min(WIDTH,HEIGHT)*r;SMtestctx2.clearRect(0,0,WIDTH,HEIGHT);SMtestctx2.translate(xc,yc);if(dianoche==0){SMtestctx2.strokeStyle="silver";for(let i=0;i<900;i++){SMtestctx2.lineWidth=(random()*.45+.25)*rad/80;let angle1=random()*3.1416*2;let angle2=random()*3.1416*2;SMtestctx2.beginPath();SMtestctx2.moveTo(Math.cos(angle1)*rad,Math.sin(angle1)*rad);SMtestctx2.lineTo(Math.cos(angle2)*rad,Math.sin(angle2)*rad);SMtestctx2.stroke()}SMtestctx2.strokeStyle="black";SMtestctx2.lineWidth=rad/200;SMtestctx2.fillStyle="rgba(0, 0, 0, 0.8)";let TL=(Date.now()-ST)/1e3/86400-Math.floor((Date.now()-ST)/1e3/86400/29.53)*29.53;if(TL<14.765){fase=TL/14.765*30;ang=0}else{fase=(29.53-TL)/14.765*30;ang=180}SMtestctx2.rotate(ang*Math.PI/180);let angle=Math.PI/30*fase+Math.PI/1e3;if(angle<Math.PI/2){SMtestctx2.beginPath();SMtestctx2.arc(0,0,rad,-Math.PI/2,Math.PI/2,false);SMtestctx2.arc(0-rad*Math.tan(angle),0,rad/Math.cos(angle),Math.PI/2-angle,angle-Math.PI/2,true);SMtestctx2.closePath();SMtestctx2.fill();SMtestctx2.stroke()}if(angle>Math.PI/2){angle=Math.PI/2-(angle-Math.PI/2);SMtestctx2.beginPath();SMtestctx2.arc(0,0,rad,-Math.PI/2,Math.PI/2,false);SMtestctx2.arc(0+rad*Math.tan(angle),0,rad/Math.cos(angle),Math.PI/2-angle,angle-Math.PI/2,false);SMtestctx2.closePath();SMtestctx2.fill();SMtestctx2.stroke()}}else{SMtestctx2.beginPath();let grd=SMtestctx2.createRadialGradient(0,0,rad/10,0,0,rad*1.5);grd.addColorStop(0,"rgb(255,204,51)");grd.addColorStop(1,"rgb(252,150,1)");SMtestctx2.fillStyle=grd;SMtestctx2.ellipse(0,0,rad,rad,0,0,Math.PI*2);SMtestctx2.fill()}SMtestctx2.setTransform(1,0,0,1,0,0);setTimeout(function(){window.requestAnimationFrame(function(){SMtestD2(r,xo,yo)})},6e4)}
</script>
<script>
const canvas1 = document.getElementById('layer1'); const SMtestctx1 = canvas1.getContext('2d');
const canvas2 = document.getElementById('layer2'); const SMtestctx2 = canvas2.getContext('2d');
const canvas3 = document.getElementById('layer3'); const FWtestctx1 = canvas3.getContext('2d');
const canvas4 = document.getElementById('layer4'); const FPtestctx1 = canvas4.getContext('2d');
var WIDTH = window.innerWidth; var HEIGHT = window.innerHeight;
canvas1.width = WIDTH; canvas1.height = HEIGHT;
canvas2.width = WIDTH; canvas2.height = HEIGHT;
canvas3.width = WIDTH; canvas3.height = HEIGHT;
canvas4.width = WIDTH; canvas4.height = HEIGHT;
  
function resizeCanvas() {
  WIDTH = window.innerWidth; HEIGHT = window.innerHeight;
  canvas1.width = WIDTH; canvas1.height = HEIGHT;
  canvas2.width = WIDTH; canvas2.height = HEIGHT;
  canvas3.width = WIDTH; canvas3.height = HEIGHT;
  canvas4.width = WIDTH; canvas4.height = HEIGHT;
  location.reload();
}

function InitAll(){
ST=Date.now();
SMtestI1();
SMtestI2();
FWtestI1(1,1,0,0,527e3,-10,'L',0,1);
FPtestI1();
DrawAll();
}

function DrawAll(){
SMtestD1();
SMtestD2(0.1,0.70,0.25);
FWtestD1();
FPtestD1();
}

// resize the canvas to fill browser window dynamically
window.addEventListener('resize', resizeCanvas, false);
InitAll();
</script>

</section>
</body>
</html>